{% extends '_base.html' %}
{% load static %}

{% comment %}REF: https://www.digitalocean.com/community/tutorials/front-and-rear-camera-access-with-javascripts-getusermedia{% endcomment %}
{% block container %}
  {% include "navbar.html" with title="Treinar reconhecimento facial" %}
  <input id="id_training" type="hidden" training="true">
  <div class="row">
    <div class="col">
      <div class="display-cover">
        <div id="display-cover-overlay" class="display-cover-overlay d-none">
          {% comment %} <div class="display-cover-face"></div> {% endcomment %}
          <div class="display-animation-face">
            {% include 'animation-circle.html' %}
          </div>
        </div>
        {% comment %} <div class="display-cover-face"></div> {% endcomment %}
        <video autoplay></video>
        <canvas class="d-none"></canvas>
        
        <div class="video-options">
          <select name="" id="" class="custom-select">
            <option value="">Select camera</option>
          </select>
        </div>

        <div class="screenshot-preview animate__animated animate__backInRight">
          <img id="screenshot-image" class="screenshot-preview-img" alt="" />
          <div class="screenshot-preview-name"><span class="preview-name"></span></div>
        </div>

        <div class="display-cron">
          <span id="hour" class="display-timer">00</span>
          <span id="minute" class="display-timer">00</span>
          <span id="second" class="display-timer">00</span>
          <span id="millisecond" class="display-timer">0000</span>
        </div>
                
        <div class="controls">
          <button class="btn btn-success play d-none" title="Play"><span class="material-symbols-outlined">play_circle</span></button>
          <button class="btn btn-info pause d-none" title="Pause"><span class="material-symbols-outlined">pause_circle</span></button>
          <button class="btn btn-outline-success trainign d-none" title="ScreenShot"><span class="material-symbols-outlined">capture</span></button>
          {% comment %} <button class="btn btn-outline-secondary recognition d-none" title="ScreenShot"><span class="material-symbols-outlined">cloud_upload</span></button> {% endcomment %}
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <div style="display: inline-flex; width: 100%; justify-content: center; align-items: center;">
        <div class="mb-3" style="width: 80%;">
          <label for="facename" class="form-label">Nome da face</label>
          <input type="text" class="form-control" id="input-facename" placeholder="Ex: Cleiton Silva...">
          <div id="input-facename-help" class="form-text">
            O nome deve ter no m√≠nimo 4 caracteres.
          </div>
          <div class="mt-2 input-controls">
            <button type="button" class="btn btn-primary save">Salvar</button>
            <button type="button" class="btn btn-secondary edit d-none">Editar</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <div style="display: inline-flex; width: 100%; justify-content: center; align-items: center;">
        <div style="width: 50%; display: inline-flex; align-items: center;">
          <h4>Faces para trinamento</h4>
        </div>
        <div style="width: 30%; display: inline-flex; justify-content: end;">
          <button id="reset-training" type="button" class="btn btn-primary reset_raining mt-3 mb-3 d-none">Novo treinamento</button>
          <button id="send-training" type="button" class="btn btn-success training mt-3 mb-3 ms-1 d-none">Enviar treinamento</button>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <div style="display: inline-flex; width: 100%; justify-content: center; align-items: center;">
        <div class="mb-3" style="width: 80%;">
          <div class="row mt-2 mb-3 training-preview"></div>
        </div>
      </div>
    </div>
  </div>


{% endblock %}

{% block scripts %}
  <script src="{% static 'recognition.js' %}"></script>
{% endblock %}
